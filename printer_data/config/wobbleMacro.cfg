[gcode_macro X_Wobble]
description: Move X axis 40mm back and forth 10,000 times
gcode:
  {% set cycles = 10000 %}
  {% set distance = 30 %}
  {% set speed = 8000 %}   # 2400 mm/min = 40 mm/s (adjust as needed)

  G90                      ; absolute positioning
  G1 X50 Y 50 Z50 F1000
  
  {% for i in range(cycles) %}
    G1 Y100 F{speed}
    G4 P200                ; 0.5 second pause
    G1 Y50 F{speed}
    G4 P200                ; 0.5 second pause
  {% endfor %}